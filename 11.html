<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]><html class="ie ie6 ie-lte9 ie-lte8 ie-lte7 no-js" lang="en-us"> <![endif]-->
<!--[if IE 7]><html class="ie ie7 ie-lte9 ie-lte8 ie-lte7 no-js" lang="en-us"> <![endif]-->
<!--[if IE 8]><html class="ie ie8 ie-lte9 ie-lte8 no-js" lang="en-us"> <![endif]-->
<!--[if IE 9]><html class="ie9 ie-lte9 no-js" lang="en-us"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js" lang="en-us"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <!-- www.phpied.com/conditional-comments-block-downloads/ -->
  <!-- Always force latest IE rendering engine
       (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <!--[if IE]>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <![endif]-->

  <title>Diffbook</title>

  <!-- http://dev.w3.org/html5/markup/meta.name.html -->
  <meta name="application-name" content="diffbook" />

  <!-- Speaking of Google, don't forget to set your site up:
       http://google.com/webmasters -->
  <meta name="google-site-verification" content="" />

  <!--  Mobile Viewport Fix
        j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag
        device-width: Occupy full width of the screen in its current orientation
        initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
        user-scalable = yes allows the user to zoom in -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="shortcut icon" href="static/images/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="static/images/favicon.png">

  <!-- All JavaScript at the bottom, except for Modernizr which enables
       HTML5 elements & feature detects -->
  <script src="static/js/modernizr.custom.js"></script>

  <!-- include stylesheets -->
  

  <script type="text/javascript"><!--
    // These variables are used by the web2py_ajax_init function in web2py_ajax.js (which is loaded below).
    var w2p_ajax_confirm_message = "Are you sure you want to delete this object?";
    var w2p_ajax_date_format = "%Y-%m-%d";
    var w2p_ajax_datetime_format = "%Y-%m-%d %H:%M:%S";
    //--></script>
<meta name="keywords" content="web2py, python, framework" />

<meta name="description" content="a cool new app" />

<meta name="generator" content="Web2py Web Framework" />

<meta name="author" content="Your Name &lt;you@example.com&gt;" />
<script src="static/js/jquery.js" type="text/javascript"></script><link href="static/css/calendar.css" rel="stylesheet" type="text/css" /><script src="static/js/calendar.js" type="text/javascript"></script><script src="static/js/web2py.js" type="text/javascript"></script><link href="static/css/web2py.css" rel="stylesheet" type="text/css" /><link href="static/css/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="static/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" /><link href="static/css/web2py_bootstrap.css" rel="stylesheet" type="text/css" />


  

  <!-- uncomment here to load jquery-ui
       <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/base/jquery-ui.css" type="text/css" media="all" />
       <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
       uncomment to load jquery-ui //-->
  <noscript><link href="static/css/web2py_bootstrap_nojs.css" rel="stylesheet" type="text/css" /></noscript>
  
  <style type="text/css">

      /* Sticky footer styles
      -------------------------------------------------- */

      html,
      body {
        height: 100%;
        /* The html and body elements cannot have any padding or margin. */
      }

      /* Wrapper for page content to push down footer */
      #wrap {
        min-height: 100%;
        height: auto !important;
        height: 100%;
        /* Negative indent footer by it's height */
        margin: 0 auto -60px;
      }

      /* Set the fixed height of the footer here */
      #push,
      #footer {
        height: 60px;
      }
      #footer {
        background-color: #f5f5f5;
      }

      /* Lastly, apply responsive CSS fixes as necessary */
      @media (max-width: 767px) {
        #footer {
          margin-left: -20px;
          margin-right: -20px;
          padding-left: 20px;
          padding-right: 20px;
        }
      }



      /* Custom page CSS
      -------------------------------------------------- */
      /* Not required for template or sticky footer method. */

      .container {
        width: auto;
        max-width: 680px;
      }
      .container .credit {
        margin: 20px 0;
      }

    </style>
</head>

<body>
  
  <body>


    <!-- Part 1: Wrap all page content here -->
    <div id="wrap">

      <!-- Begin page content -->
      <div class="container-fluid">
        <div class="page-header">
          	<h1>
              Diffbook
              <small>easy? diffbook</small>
            </h1>
        </div>
        
        


<div class="pagination">
  <ul>

      <li><a href="/diffbook/0.html">Chapter 0</a></li>

      <li><a href="/diffbook/1.html">Chapter 1</a></li>

      <li><a href="/diffbook/2.html">Chapter 2</a></li>

      <li><a href="/diffbook/3.html">Chapter 3</a></li>

      <li><a href="/diffbook/4.html">Chapter 4</a></li>

      <li><a href="/diffbook/5.html">Chapter 5</a></li>

      <li><a href="/diffbook/6.html">Chapter 6</a></li>

      <li><a href="/diffbook/7.html">Chapter 7</a></li>

      <li><a href="/diffbook/8.html">Chapter 8</a></li>

      <li><a href="/diffbook/9.html">Chapter 9</a></li>

      <li><a href="/diffbook/10.html">Chapter 10</a></li>

      <li><a href="/diffbook/11.html">Chapter 11</a></li>

      <li><a href="/diffbook/12.html">Chapter 12</a></li>

  </ul>
</div>

<div class="pagination">
  <ul>

      <li><a href="#com_097d699dc16179206ccb7e4aee863d6523cd471c">097d699</a></li>

      <li><a href="#com_842db9bd4770683ef9aa9f8020bd0d59b146b0a9">842db9b</a></li>

      <li><a href="#com_f2fd41dd2a0d4bf68f5cd4f0989fb32bdc35eac5">f2fd41d</a></li>

      <li><a href="#com_82dc64e7baa231edd3896ca7a0d41393e426f123">82dc64e</a></li>

      <li><a href="#com_28816a98948c4a6577f73bdeb2b7424dc55d2582">28816a9</a></li>

      <li><a href="#com_c0da1a23055a3368a1a4b20f5e90fcd6ef18f4f8">c0da1a2</a></li>

      <li><a href="#com_744527ad9dc2857b9d9e98f20212fa303517bdd8">744527a</a></li>

      <li><a href="#com_49f38ab7ef56de1eb4ef48f68427ebf8a46b505d">49f38ab</a></li>

  </ul>
</div>



<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/097d699dc16179206ccb7e4aee863d6523cd471c">097d699</a><ul><li>Date : 2012-12-27</li><li>fixed typo, thanks Andrew</li></ul></li></ul>
<div class="row-fluid" id="com_097d699dc16179206ccb7e4aee863d6523cd471c">
    <div class="span6"><div class="diff"><div class=""> ## jQuery and Ajax</div><div class=""> ``Ajax``:inxx</div><div class=""> </div><div class=""> While web2py is mainly for server-side development, the **welcome** scaffolding app comes with the base jQuery library``jquery``:cite, jQuery calendars (date picker, datetime picker and clock), the &quot;superfish.js&quot; menu, and some additional JavaScript functions based on jQuery.</div><div class=""> </div><div class=""> Nothing in web2py prevents you from using other</div><div class=""> Ajax libraries such as Prototype, ExtJS, or YUI, but we decided to package jQuery because we find it to be easier to use and more powerful than other equivalent libraries. We also find that it captures the web2py spirit of being functional and concise.</div><div class=""> </div><div class=""> ### web2py_ajax.html</div><div class=""> </div><div class=""> The scaffolding web2py application &quot;welcome&quot; includes a file called</div><div class=""> ``</div><div class=""> views/web2py_ajax.html</div><div class=""> ``:code</div><div class=""> </div><div class=""> which looks like this:</div><div class=""> </div><div class=""> ``</div><div class=""> {{</div><div class=""> response.files.insert(0,URL(&#x27;static&#x27;,&#x27;js/jquery.js&#x27;))</div><div class=""> response.files.insert(1,URL(&#x27;static&#x27;,&#x27;css/calenadar.css&#x27;))</div><div class=""> response.files.insert(2,URL(&#x27;static&#x27;,&#x27;js/calendar.js&#x27;))</div><div class=""> response.include_meta()</div><div class=""> response.include_files()</div><div class=""> }}</div><div class=""> &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--</div><div class="">     // These variables are used by the web2py_ajax_init</div><div class="insert"><span class="highlight">        </span>// function in web2py.js (which is loaded below).</div><div class="">     var w2p_ajax_confirm_message =</div><div class="">         &quot;{{=T(&#x27;Are you sure you want to delete this object?&#x27;)}}&quot;;</div><div class="">     var w2p_ajax_date_format = &quot;{{=T(&#x27;%Y-%m-%d&#x27;)}}&quot;;</div><div class="">     var w2p_ajax_datetime_format = &quot;{{=T(&#x27;%Y-%m-%d %H:%M:%S&#x27;)}}&quot;;</div><div class=""> //--&gt;&lt;/script&gt;</div><div class=""> &lt;script src=&quot;{{=URL(&#x27;static&#x27;,&#x27;js/web2py.js&#x27;)}}&quot;</div><div class="">         type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class=""> ``:code</div><div class=""> </div><div class=""> This file is included in the HEAD of the default &quot;layout.html&quot; and it provides the following services:</div><div class=""> - Includes &quot;static/jquery.js&quot;.</div><div class=""> - Includes &quot;static/calendar.js&quot; and &quot;static/calendar.css&quot;, which are used for the popup calendar.</div><div class=""> - Includes all ``response.meta`` headers</div><div class=""> - Includes all ``response.files`` (requires CSS and JS, as declared in the code)</div><div class=""> - Sets form variables and includes &quot;static/js/web2y.js&quot;</div><div class=""> </div><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> Here is the &quot;default/list_items.html&quot; view:</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> </div><div class=""> &lt;form&gt;&lt;input type=&quot;hidden&quot; id=&quot;id&quot; name=&quot;id&quot; value=&quot;&quot; /&gt;&lt;/form&gt;</div><div class=""> {{for item in items:}}</div><div class=""> &lt;p&gt;</div><div class=""> &lt;img src=&quot;{{=URL(&#x27;download&#x27;, args=item.image)}}&quot;</div><div class="">      width=&quot;200px&quot; /&gt;</div><div class=""> &lt;br /&gt;</div><div class=""> Votes=&lt;span id=&quot;item{{=item.id}}&quot;&gt;{{=item.votes}}&lt;/span&gt;</div><div class=""> [&lt;span onclick=&quot;jQuery(&#x27;#id&#x27;).val(&#x27;{{=item.id}}&#x27;);</div><div class="">        ajax(&#x27;vote&#x27;, [&#x27;id&#x27;], &#x27;item{{=item.id}}&#x27;);&quot;&gt;vote up&lt;/span&gt;]</div><div class=""> &lt;/p&gt;</div><div class=""> {{pass}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> When the visitor clicks on &quot;[vote up]&quot; the JavaScript code stores the item.id in the hidden &quot;id&quot; INPUT field and submits this value to the server via an Ajax request. The server increases the votes counter for the corresponding record and returns the new vote count as a string. This value is then inserted in the target ``item{{=item.id}}`` SPAN.</div><div class=""> </div><div class=""> -------</div><div class=""> Ajax callbacks can be used to perform computations in the background, but we recommend using **cron** or a background process instead (discussed in chapter 4), since the web server enforces a timeout on threads. If the computation takes too long, the web server kills it. Refer to your web server parameters to set the timeout value.</div><div class=""> -------</div></div></div>
    <div class="span6"><div class="diff"><div class="delete">-</div><div class=""> ## jQuery and Ajax</div><div class=""> ``Ajax``:inxx</div><div class=""> </div><div class=""> While web2py is mainly for server-side development, the **welcome** scaffolding app comes with the base jQuery library``jquery``:cite, jQuery calendars (date picker, datetime picker and clock), the &quot;superfish.js&quot; menu, and some additional JavaScript functions based on jQuery.</div><div class=""> </div><div class=""> Nothing in web2py prevents you from using other</div><div class=""> Ajax libraries such as Prototype, ExtJS, or YUI, but we decided to package jQuery because we find it to be easier to use and more powerful than other equivalent libraries. We also find that it captures the web2py spirit of being functional and concise.</div><div class=""> </div><div class=""> ### web2py_ajax.html</div><div class=""> </div><div class=""> The scaffolding web2py application &quot;welcome&quot; includes a file called</div><div class=""> ``</div><div class=""> views/web2py_ajax.html</div><div class=""> ``:code</div><div class=""> </div><div class=""> which looks like this:</div><div class=""> </div><div class=""> ``</div><div class=""> {{</div><div class=""> response.files.insert(0,URL(&#x27;static&#x27;,&#x27;js/jquery.js&#x27;))</div><div class=""> response.files.insert(1,URL(&#x27;static&#x27;,&#x27;css/calenadar.css&#x27;))</div><div class=""> response.files.insert(2,URL(&#x27;static&#x27;,&#x27;js/calendar.js&#x27;))</div><div class=""> response.include_meta()</div><div class=""> response.include_files()</div><div class=""> }}</div><div class=""> &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--</div><div class="">     // These variables are used by the web2py_ajax_init</div><div class="delete"><span class="highlight">	</span>// function in web2py.js (which is loaded below).</div><div class="">     var w2p_ajax_confirm_message =</div><div class="">         &quot;{{=T(&#x27;Are you sure you want to delete this object?&#x27;)}}&quot;;</div><div class="">     var w2p_ajax_date_format = &quot;{{=T(&#x27;%Y-%m-%d&#x27;)}}&quot;;</div><div class="">     var w2p_ajax_datetime_format = &quot;{{=T(&#x27;%Y-%m-%d %H:%M:%S&#x27;)}}&quot;;</div><div class=""> //--&gt;&lt;/script&gt;</div><div class=""> &lt;script src=&quot;{{=URL(&#x27;static&#x27;,&#x27;js/web2py.js&#x27;)}}&quot;</div><div class="">         type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class=""> ``:code</div><div class=""> </div><div class=""> This file is included in the HEAD of the default &quot;layout.html&quot; and it provides the following services:</div><div class=""> - Includes &quot;static/jquery.js&quot;.</div><div class=""> - Includes &quot;static/calendar.js&quot; and &quot;static/calendar.css&quot;, which are used for the popup calendar.</div><div class=""> - Includes all ``response.meta`` headers</div><div class=""> - Includes all ``response.files`` (requires CSS and JS, as declared in the code)</div><div class=""> - Sets form variables and includes &quot;static/js/web2y.js&quot;</div><div class=""> </div><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> Here is the &quot;default/list_items.html&quot; view:</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> </div><div class=""> &lt;form&gt;&lt;input type=&quot;hidden&quot; id=&quot;id&quot; name=&quot;id&quot; value=&quot;&quot; /&gt;&lt;/form&gt;</div><div class=""> {{for item in items:}}</div><div class=""> &lt;p&gt;</div><div class=""> &lt;img src=&quot;{{=URL(&#x27;download&#x27;, args=item.image)}}&quot;</div><div class="">      width=&quot;200px&quot; /&gt;</div><div class=""> &lt;br /&gt;</div><div class=""> Votes=&lt;span id=&quot;item{{=item.id}}&quot;&gt;{{=item.votes}}&lt;/span&gt;</div><div class=""> [&lt;span onclick=&quot;jQuery(&#x27;#id&#x27;).val(&#x27;{{=item.id}}&#x27;);</div><div class="">        ajax(&#x27;vote&#x27;, [&#x27;id&#x27;], &#x27;item{{=item.id}}&#x27;);&quot;&gt;vote up&lt;/span&gt;]</div><div class=""> &lt;/p&gt;</div><div class=""> {{pass}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> When the visitor clicks on &quot;[vote up]&quot; the JavaScript code stores the item.id in the hidden &quot;id&quot; INPUT field and submits this value to the server via an Ajax request. The server increases the votes counter for the corresponding record and returns the new vote count as a string. This value is then inserted in the target ``item{{=item.id}}`` SPAN.</div><div class=""> </div><div class=""> -------</div><div class=""> Ajax callbacks can be used to perform computations in the background, but we recommend using **cron** or a background process instead (discussed in chapter 4), since the web server enforces a timeout on threads. If the computation takes too long, the web server kills it. Refer to your web server parameters to set the timeout value.</div><div class=""> -------</div><div class="delete">-</div><div class="delete">-</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/842db9bd4770683ef9aa9f8020bd0d59b146b0a9">842db9b</a><ul><li>Date : 2013-03-17</li><li>Changes to English ch 11 and more Spanish translation</li></ul></li></ul>
<div class="row-fluid" id="com_842db9bd4770683ef9aa9f8020bd0d59b146b0a9">
    <div class="span6"><div class="diff"><div class=""> ##### Effects</div><div class=""> - ``jQuery(...).show()``: Makes the object visible</div><div class=""> - ``jQuery(...).hide()``: Makes the object hidden</div><div class=""> - ``jQuery(...).slideToggle(speed, callback)``: Makes the object slide up or down</div><div class=""> - ``jQuery(...).slideUp(speed, callback)``: Makes the object slide up</div><div class=""> - ``jQuery(...).slideDown(speed, callback)``: Makes the object slide down</div><div class=""> - ``jQuery(...).fadeIn(speed, callback)``: Makes the object fade in</div><div class=""> - ``jQuery(...).fadeOut(speed, callback)``: Makes the object fade out</div><div class=""> </div><div class=""> The speed argument is usually &quot;slow&quot;, &quot;fast&quot; or omitted (the default). The callback is an optional function that is called when the effect is completed.</div><div class=""> </div><div class=""> jQuery effects can also easily be embedded in helpers, for example,</div><div class=""> in a view:</div><div class=""> ``</div><div class=""> {{=DIV(&#x27;click me!&#x27;, _onclick=&quot;jQuery(this).fadeOut()&quot;)}}</div><div class=""> ``:code</div><div class=""> </div><div class="insert">+Other useful methods and attributes for handling selected elements</div><div class="insert">+</div><div class="insert">+##### Methods and attributes</div><div class="insert">+- ``jQuery(...).attr(name)``: Returns the name of the attribute value</div><div class="insert">+- ``jQuery(...).attr(name, value)``: Sets the attribute name to value</div><div class="insert">+- ``jQuery(...).html()``: Without arguments, it returns the inner html from the selected elements, it accepts a string as argument for replacing the tag content.</div><div class="insert">+- ``jQuery(...).text()``: Without arguments, it returns the inner text of the selected element (without tags), if a string is passed as argument, it replaces the inner text with the new data.</div><div class="insert">+- ``jQuery(...).css(name, value)``: With one parameter, it returns the CSS value of the style attribute specified for the selected elements. With two parameters, it sets a new value for the specified CSS attribute.</div><div class="insert">+- ``jQuery(...).each(function)``: It loops trought the selected elements set and calls function with each item as argument.</div><div class="insert">+- ``jQuery(...).index()``: Without arguments, it returns the index value for the first element selected related to its siblings. (i.e, the index of a LI element). If an element is passed as argument, it returns the element position related to the selected elements set.</div><div class="insert">+- ``jQuery(...).length``: This attribute returns the number of elements selected.</div><div class="insert">+</div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div></div></div>
    <div class="span6"><div class="diff"><div class=""> ##### Effects</div><div class="delete">-- ``jQuery(...).attr(name)``: Returns the name of the attribute value</div><div class="delete">-- ``jQuery(...).attr(name, value)``: Sets the attribute name to value</div><div class=""> - ``jQuery(...).show()``: Makes the object visible</div><div class=""> - ``jQuery(...).hide()``: Makes the object hidden</div><div class=""> - ``jQuery(...).slideToggle(speed, callback)``: Makes the object slide up or down</div><div class=""> - ``jQuery(...).slideUp(speed, callback)``: Makes the object slide up</div><div class=""> - ``jQuery(...).slideDown(speed, callback)``: Makes the object slide down</div><div class=""> - ``jQuery(...).fadeIn(speed, callback)``: Makes the object fade in</div><div class=""> - ``jQuery(...).fadeOut(speed, callback)``: Makes the object fade out</div><div class=""> </div><div class=""> The speed argument is usually &quot;slow&quot;, &quot;fast&quot; or omitted (the default). The callback is an optional function that is called when the effect is completed.</div><div class=""> </div><div class=""> jQuery effects can also easily be embedded in helpers, for example,</div><div class=""> in a view:</div><div class=""> ``</div><div class=""> {{=DIV(&#x27;click me!&#x27;, _onclick=&quot;jQuery(this).fadeOut()&quot;)}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/f2fd41dd2a0d4bf68f5cd4f0989fb32bdc35eac5">f2fd41d</a><ul><li>Date : 2012-12-31</li><li>spell check of diffs, thanks Joanthan</li></ul></li></ul>
<div class="row-fluid" id="com_f2fd41dd2a0d4bf68f5cd4f0989fb32bdc35eac5">
    <div class="span6"><div class="diff"><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> - Prevents typing invalid floats in INPUT fields of class &quot;double&quot;.</div><div class=""> - Connects INPUT fields of type &quot;date&quot; with a popup date picker.</div><div class=""> - Connects INPUT fields of type &quot;datetime&quot; with a popup datetime picker.</div><div class=""> - Connects INPUT fields of type &quot;time&quot; with a popup time picker.</div><div class=""> - Defines ``web2py_ajax_component``, a very important tool that will be described in Chapter 12.</div><div class=""> - Defines ``web2py_websocket``, a function that can be used for HTML5 websockets (not described in this book but read the examples in the source of &quot;gluon/contrib/websocket__messaging.py&quot;). ``websockets``:inxx</div><div class="insert">- Defines functions to the entropy calc<span class="highlight">u</span>l<span class="highlight"></span>ation and input validation of the password field.</div></div></div>
    <div class="span6"><div class="diff"><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> - Prevents typing invalid floats in INPUT fields of class &quot;double&quot;.</div><div class=""> - Connects INPUT fields of type &quot;date&quot; with a popup date picker.</div><div class=""> - Connects INPUT fields of type &quot;datetime&quot; with a popup datetime picker.</div><div class=""> - Connects INPUT fields of type &quot;time&quot; with a popup time picker.</div><div class=""> - Defines ``web2py_ajax_component``, a very important tool that will be described in Chapter 12.</div><div class=""> - Defines ``web2py_websocket``, a function that can be used for HTML5 websockets (not described in this book but read the examples in the source of &quot;gluon/contrib/websocket__messaging.py&quot;). ``websockets``:inxx</div><div class="delete">- Defines functions to the entropy calc<span class="highlight"></span>l<span class="highlight">u</span>ation and input validation of the password field.</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/82dc64e7baa231edd3896ca7a0d41393e426f123">82dc64e</a><ul><li>Date : 2012-12-19</li><li>lots of small additions</li></ul></li></ul>
<div class="row-fluid" id="com_82dc64e7baa231edd3896ca7a0d41393e426f123">
    <div class="span6"><div class="diff"><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> - Prevents typing invalid floats in INPUT fields of class &quot;double&quot;.</div><div class=""> - Connects INPUT fields of type &quot;date&quot; with a popup date picker.</div><div class=""> - Connects INPUT fields of type &quot;datetime&quot; with a popup datetime picker.</div><div class=""> - Connects INPUT fields of type &quot;time&quot; with a popup time picker.</div><div class=""> - Defines ``web2py_ajax_component``, a very important tool that will be described in Chapter 12.</div><div class="insert">+- Defines ``web2py_websocket``, a function that can be used for HTML5 websockets (not described in this book but read the examples in the source of &quot;gluon/contrib/websocket__messaging.py&quot;). ``websockets``:inxx</div><div class="insert">+- Defines functions to the entropy calcluation and input validation of the password field.</div></div></div>
    <div class="span6"><div class="diff"><div class=""> &quot;web2py.js&quot; does the following:</div><div class=""> - Defines an ``ajax`` function (based on jQuery $.ajax).</div><div class=""> - Makes any DIV of class &quot;error&quot; or any tag object of class &quot;flash&quot; slide down.</div><div class=""> - Prevents typing invalid integers in INPUT fields of class &quot;integer&quot;.</div><div class=""> - Prevents typing invalid floats in INPUT fields of class &quot;double&quot;.</div><div class=""> - Connects INPUT fields of type &quot;date&quot; with a popup date picker.</div><div class=""> - Connects INPUT fields of type &quot;datetime&quot; with a popup datetime picker.</div><div class=""> - Connects INPUT fields of type &quot;time&quot; with a popup time picker.</div><div class=""> - Defines ``web2py_ajax_component``, a very important tool that will be described in Chapter 12.</div><div class="delete">-- Defines ``web2py_comet``, a function that can be used for HTML5 websockets (not described in this book but read the examples in the source of &quot;gluon/contrib/comet_messaging.py&quot;). ``websockets``:inxx</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/28816a98948c4a6577f73bdeb2b7424dc55d2582">28816a9</a><ul><li>Date : 2012-12-23</li><li>code building book</li></ul></li></ul>
<div class="row-fluid" id="com_28816a98948c4a6577f73bdeb2b7424dc55d2582">
    <div class="span6"><div class="diff"><div class=""> Nothing in web2py prevents you from using other</div><div class="insert">Ajax<span class="highlight"></span> libraries such as Prototype, ExtJS, or YUI, but we decided to package jQuery because we find it to be easier to use and more powerful than other equivalent libraries. We also find that it captures the web2py spirit of being functional and concise.</div><div class=""> </div><div class=""> ### web2py_ajax.html</div><div class=""> </div><div class=""> The scaffolding web2py application &quot;welcome&quot; includes a file called</div><div class=""> ``</div><div class=""> views/web2py_ajax.html</div><div class=""> ``:code</div><div class=""> </div><div class=""> which looks like this:</div><div class=""> </div><div class=""> ``</div><div class=""> {{</div><div class=""> response.files.insert(0,URL(&#x27;static&#x27;,&#x27;js/jquery.js&#x27;))</div><div class=""> response.files.insert(1,URL(&#x27;static&#x27;,&#x27;css/calenadar.css&#x27;))</div><div class=""> response.files.insert(2,URL(&#x27;static&#x27;,&#x27;js/calendar.js&#x27;))</div><div class=""> response.include_meta()</div><div class=""> response.include_files()</div><div class=""> }}</div><div class=""> &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--</div><div class="">     // These variables are used by the web2py_ajax_init</div><div class=""> Here is a list of useful effects defined by jQuery:</div><div class=""> - jQuery(...).show(): Makes the object visible</div><div class=""> - jQuery(...).hide(): Makes the object hidden</div><div class=""> - jQuery(...).slideToggle(speed, callback): Makes the object slide up or down</div><div class=""> - jQuery(...).slideUp(speed, callback): Makes the object slide up</div><div class=""> - jQuery(...).slideDown(speed, callback): Makes the object slide down</div><div class=""> - jQuery(...).fadeIn(speed, callback): Makes the object fade in</div><div class=""> - jQuery(...).fadeOut(speed, callback): Makes the object fade out</div><div class=""> </div><div class=""> The speed argument is usually &quot;slow&quot;, &quot;fast&quot; or omitted (the default). The callback is an optional function that is called when the effect is completed.</div><div class=""> </div><div class=""> jQuery effects can also easily be embedded in helpers, for example,</div><div class=""> in a view:</div><div class=""> ``</div><div class=""> {{=DIV(&#x27;click me!&#x27;, _onclick=&quot;jQuery(this).fadeOut()&quot;)}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div><div class=""> </div><div class=""> Consult the documentation for more information about these effects and other jQuery APIs.</div><div class=""> </div><div class="insert">The jQuery library can also be extended using plugins and User Interface Widgets. This topic is not covered here; see ref.``jquery<span class="highlight">-</span>ui``:cite for details.</div><div class=""> </div><div class=""> #### Conditional fields in forms</div><div class=""> </div><div class=""> A typical application of jQuery effects is a form that changes its appearance based on the value of its fields.</div><div class=""> </div><div class=""> This is easy in web2py because the SQLFORM helper generates forms that are &quot;CSS friendly&quot;. The form contains a table with rows. Each row contains a label, an input field, and an optional third column. The items have ids derived strictly from the name of the table and names of the fields.</div><div class=""> </div><div class=""> The convention is that every INPUT field has an id ``tablename_fieldname`` and is contained in a row with id ``tablename_fieldname__row``.</div><div class=""> </div><div class=""> As an example, create an input form that asks for a taxpayer&#x27;s name and for the name of the taxpayer&#x27;s spouse, but only if he/she is married.</div><div class=""> </div><div class=""> Create a test application with the following model:</div><div class=""> ``</div><div class=""> db = DAL(&#x27;sqlite://db.db&#x27;)</div><div class=""> db.define_table(&#x27;taxpayer&#x27;,</div><div class="">     Field(&#x27;name&#x27;),</div><div class="">     Field(&#x27;married&#x27;, &#x27;boolean&#x27;),</div><div class="">     Field(&#x27;spouse_name&#x27;))</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the corresponding view &quot;default/edit.html&quot;</div><div class=""> </div><div class=""> ``deletable``:inxx</div><div class=""> The ``deletable=True`` argument in the SQLFORM constructor instructs web2py to display a &quot;delete&quot; checkbox in the edit form. It is ``False`` by default.</div><div class=""> </div><div class=""> web2py&#x27;s &quot;web2py.js&quot; includes the following code:</div><div class=""> ``</div><div class=""> jQuery(document).ready(function(){</div><div class="">    jQuery(&#x27;input.delete&#x27;).attr(&#x27;onclick&#x27;,</div><div class="">      &#x27;if(this.checked) if(!confirm(</div><div class="">         &quot;{{=T(&#x27;Sure you want to delete this object?&#x27;)}}&quot;))</div><div class="">       this.checked=false;&#x27;);</div><div class=""> });</div><div class=""> ``:code</div><div class=""> </div><div class=""> By convention this checkbox has a class equal to &quot;delete&quot;. The jQuery code above connects the onclick event of this checkbox with a confirmation dialog (standard in JavaScript) and unchecks the checkbox if the taxpayer does not confirm:</div><div class=""> </div><div class=""> [[image @///image/en7700.png center 480px]]</div><div class=""> </div><div class=""> ### The ``ajax`` function</div><div class=""> </div><div class="insert">In web2py.js, web2py defines a function called ``ajax`` which is based on, but should not be confused with, the jQuery function ``$.ajax``. The latter is much more powerful than the former, and for its usage, we refer you to ref.``jquery``:cite and ref.``jquery<span class="highlight">-b``</span>:<span class="highlight"></span>cite. However, the former function is sufficient for many complex tasks, and is easier to use.</div></div></div>
    <div class="span6"><div class="diff"><div class=""> Nothing in web2py prevents you from using other</div><div class="delete">Ajax<span class="highlight">``ajax:w``:cite</span> libraries such as Prototype, ExtJS, or YUI, but we decided to package jQuery because we find it to be easier to use and more powerful than other equivalent libraries. We also find that it captures the web2py spirit of being functional and concise.</div><div class=""> </div><div class=""> ### web2py_ajax.html</div><div class=""> </div><div class=""> The scaffolding web2py application &quot;welcome&quot; includes a file called</div><div class=""> ``</div><div class=""> views/web2py_ajax.html</div><div class=""> ``:code</div><div class=""> </div><div class=""> which looks like this:</div><div class=""> </div><div class=""> ``</div><div class=""> {{</div><div class=""> response.files.insert(0,URL(&#x27;static&#x27;,&#x27;js/jquery.js&#x27;))</div><div class=""> response.files.insert(1,URL(&#x27;static&#x27;,&#x27;css/calenadar.css&#x27;))</div><div class=""> response.files.insert(2,URL(&#x27;static&#x27;,&#x27;js/calendar.js&#x27;))</div><div class=""> response.include_meta()</div><div class=""> response.include_files()</div><div class=""> }}</div><div class=""> &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--</div><div class="">     // These variables are used by the web2py_ajax_init</div><div class=""> Here is a list of useful effects defined by jQuery:</div><div class=""> - jQuery(...).show(): Makes the object visible</div><div class=""> - jQuery(...).hide(): Makes the object hidden</div><div class=""> - jQuery(...).slideToggle(speed, callback): Makes the object slide up or down</div><div class=""> - jQuery(...).slideUp(speed, callback): Makes the object slide up</div><div class=""> - jQuery(...).slideDown(speed, callback): Makes the object slide down</div><div class=""> - jQuery(...).fadeIn(speed, callback): Makes the object fade in</div><div class=""> - jQuery(...).fadeOut(speed, callback): Makes the object fade out</div><div class=""> </div><div class=""> The speed argument is usually &quot;slow&quot;, &quot;fast&quot; or omitted (the default). The callback is an optional function that is called when the effect is completed.</div><div class=""> </div><div class=""> jQuery effects can also easily be embedded in helpers, for example,</div><div class=""> in a view:</div><div class=""> ``</div><div class=""> {{=DIV(&#x27;click me!&#x27;, _onclick=&quot;jQuery(this).fadeOut()&quot;)}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div><div class=""> </div><div class=""> Consult the documentation for more information about these effects and other jQuery APIs.</div><div class=""> </div><div class="delete">The jQuery library can also be extended using plugins and User Interface Widgets. This topic is not covered here; see ref.``jquery<span class="highlight">:</span>ui``:cite for details.</div><div class=""> </div><div class=""> #### Conditional fields in forms</div><div class=""> </div><div class=""> A typical application of jQuery effects is a form that changes its appearance based on the value of its fields.</div><div class=""> </div><div class=""> This is easy in web2py because the SQLFORM helper generates forms that are &quot;CSS friendly&quot;. The form contains a table with rows. Each row contains a label, an input field, and an optional third column. The items have ids derived strictly from the name of the table and names of the fields.</div><div class=""> </div><div class=""> The convention is that every INPUT field has an id ``tablename_fieldname`` and is contained in a row with id ``tablename_fieldname__row``.</div><div class=""> </div><div class=""> As an example, create an input form that asks for a taxpayer&#x27;s name and for the name of the taxpayer&#x27;s spouse, but only if he/she is married.</div><div class=""> </div><div class=""> Create a test application with the following model:</div><div class=""> ``</div><div class=""> db = DAL(&#x27;sqlite://db.db&#x27;)</div><div class=""> db.define_table(&#x27;taxpayer&#x27;,</div><div class="">     Field(&#x27;name&#x27;),</div><div class="">     Field(&#x27;married&#x27;, &#x27;boolean&#x27;),</div><div class="">     Field(&#x27;spouse_name&#x27;))</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the corresponding view &quot;default/edit.html&quot;</div><div class=""> </div><div class=""> ``deletable``:inxx</div><div class=""> The ``deletable=True`` argument in the SQLFORM constructor instructs web2py to display a &quot;delete&quot; checkbox in the edit form. It is ``False`` by default.</div><div class=""> </div><div class=""> web2py&#x27;s &quot;web2py.js&quot; includes the following code:</div><div class=""> ``</div><div class=""> jQuery(document).ready(function(){</div><div class="">    jQuery(&#x27;input.delete&#x27;).attr(&#x27;onclick&#x27;,</div><div class="">      &#x27;if(this.checked) if(!confirm(</div><div class="">         &quot;{{=T(&#x27;Sure you want to delete this object?&#x27;)}}&quot;))</div><div class="">       this.checked=false;&#x27;);</div><div class=""> });</div><div class=""> ``:code</div><div class=""> </div><div class=""> By convention this checkbox has a class equal to &quot;delete&quot;. The jQuery code above connects the onclick event of this checkbox with a confirmation dialog (standard in JavaScript) and unchecks the checkbox if the taxpayer does not confirm:</div><div class=""> </div><div class=""> [[image @///image/en7700.png center 480px]]</div><div class=""> </div><div class=""> ### The ``ajax`` function</div><div class=""> </div><div class="delete">In web2py.js, web2py defines a function called ``ajax`` which is based on, but should not be confused with, the jQuery function ``$.ajax``. The latter is much more powerful than the former, and for its usage, we refer you to ref.``jquery``:cite and ref.``jquery<span class="highlight"></span>:<span class="highlight">b``:</span>cite. However, the former function is sufficient for many complex tasks, and is easier to use.</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/c0da1a23055a3368a1a4b20f5e90fcd6ef18f4f8">c0da1a2</a><ul><li>Date : 2012-09-06</li><li>fix more typos</li></ul></li></ul>
<div class="row-fluid" id="com_c0da1a23055a3368a1a4b20f5e90fcd6ef18f4f8">
    <div class="span6"><div class="diff"><div class="insert">It asynchronously calls the url (first argument), passes the values of the field inputs with<span class="highlight"> </span>the name equal to one of the names in the list (second argument), then stores the response in the innerHTML of the tag with the id equal to target (the third argument).</div></div></div>
    <div class="span6"><div class="diff"><div class="delete">It asynchronously calls the url (first argument), passes the values of the field inputs with<span class="highlight"></span>the name equal to one of the names in the list (second argument), then stores the response in the innerHTML of the tag with the id equal to target (the third argument).</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/744527ad9dc2857b9d9e98f20212fa303517bdd8">744527a</a><ul><li>Date : 2013-08-08</li><li>.attr replaced by .prop</li></ul></li></ul>
<div class="row-fluid" id="com_744527ad9dc2857b9d9e98f20212fa303517bdd8">
    <div class="span6"><div class="diff"><div class=""> ##### Methods and attributes</div><div class="insert">+- ``jQuery(...).prop(name)``: Returns the name of the attribute value</div><div class="insert">+- ``jQuery(...).prop(name, value)``: Sets the attribute name to value</div><div class=""> - ``jQuery(...).html()``: Without arguments, it returns the inner html from the selected elements, it accepts a string as argument for replacing the tag content.</div><div class=""> - ``jQuery(...).text()``: Without arguments, it returns the inner text of the selected element (without tags), if a string is passed as argument, it replaces the inner text with the new data.</div><div class=""> - ``jQuery(...).css(name, value)``: With one parameter, it returns the CSS value of the style attribute specified for the selected elements. With two parameters, it sets a new value for the specified CSS attribute.</div><div class=""> - ``jQuery(...).each(function)``: It loops trought the selected elements set and calls function with each item as argument.</div><div class=""> - ``jQuery(...).index()``: Without arguments, it returns the index value for the first element selected related to its siblings. (i.e, the index of a LI element). If an element is passed as argument, it returns the element position related to the selected elements set.</div><div class=""> - ``jQuery(...).length``: This attribute returns the number of elements selected.</div><div class=""> </div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div><div class=""> </div><div class=""> Consult the documentation for more information about these effects and other jQuery APIs.</div><div class=""> </div><div class=""> The jQuery library can also be extended using plugins and User Interface Widgets. This topic is not covered here; see ref.``jquery-ui``:cite for details.</div><div class=""> </div><div class=""> #### Conditional fields in forms</div><div class=""> </div><div class=""> A typical application of jQuery effects is a form that changes its appearance based on the value of its fields.</div><div class=""> </div><div class=""> This is easy in web2py because the SQLFORM helper generates forms that are &quot;CSS friendly&quot;. The form contains a table with rows. Each row contains a label, an input field, and an optional third column. The items have ids derived strictly from the name of the table and names of the fields.</div><div class=""> </div><div class=""> The convention is that every INPUT field has an id ``tablename_fieldname`` and is contained in a row with id ``tablename_fieldname__row``.</div><div class=""> db.define_table(&#x27;taxpayer&#x27;,</div><div class="">     Field(&#x27;spouse_name&#x27;))</div><div class=""> ``:code</div><div class=""> </div><div class=""> the following &quot;default.py&quot; controller:</div><div class=""> ``</div><div class=""> def index():</div><div class="">     form = SQLFORM(db.taxpayer)</div><div class="">     if form.process().accepted:</div><div class="">         response.flash = &#x27;record inserted&#x27;</div><div class="">     return dict(form=form)</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the following &quot;default/index.html&quot; view:</div><div class=""> ``</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> {{=form}}</div><div class=""> &lt;script&gt;</div><div class=""> jQuery(document).ready(function(){</div><div class="">    jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).hide();</div><div class="">    jQuery(&#x27;#taxpayer_married&#x27;).change(function(){</div><div class="insert">        if(jQuery(&#x27;#taxpayer_married&#x27;).<span class="highlight">p</span>r<span class="highlight">op</span>(&#x27;checked&#x27;))</div><div class="">             jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).show();</div><div class="">         else jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).hide();});</div><div class=""> });</div><div class=""> &lt;/script&gt;</div><div class=""> ``:code</div><div class=""> </div><div class=""> The script in the view has the effect of hiding the row containing the spouse&#x27;s name:</div><div class=""> </div><div class=""> [[image @///image/en7500.png center 480px]]</div><div class=""> </div><div class=""> When the taxpayer checks the &quot;married&quot; checkbox, the spouse&#x27;s name field reappears:</div><div class=""> </div><div class=""> [[image @///image/en7600.png center 480px]]</div><div class=""> </div><div class=""> Here &quot;taxpayer_married&quot; is the checkbox associated to the &quot;boolean&quot; field &quot;married&quot; of table &quot;taxpayer&quot;. &quot;taxpayer_spouse_name__row&quot; is the row containing the input field for &quot;spouse_name&quot; of table &quot;taxpayer&quot;.</div><div class=""> </div><div class=""> #### Confirmation on delete</div><div class=""> ``confirmation``:inxx</div><div class=""> </div><div class=""> Another useful application is requiring confirmation when checking a &quot;delete&quot; checkbox such as the delete checkbox that appears in edit forms.</div><div class=""> Consider the above example and add the following controller action:</div><div class=""> def edit():</div><div class="">     row = db.taxpayer[request.args(0)]</div><div class="">     form = SQLFORM(db.taxpayer, row, deletable=True)</div><div class="">     if form.process().accepted:</div><div class="">         response.flash = &#x27;record updated&#x27;</div><div class="">     return dict(form=form)</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the corresponding view &quot;default/edit.html&quot;</div><div class=""> ``</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> {{=form}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> ``deletable``:inxx</div><div class=""> The ``deletable=True`` argument in the SQLFORM constructor instructs web2py to display a &quot;delete&quot; checkbox in the edit form. It is ``False`` by default.</div><div class=""> </div><div class=""> web2py&#x27;s &quot;web2py.js&quot; includes the following code:</div><div class=""> ``</div><div class=""> jQuery(document).ready(function(){</div><div class="insert">   jQuery(&#x27;input.delete&#x27;).<span class="highlight">p</span>r<span class="highlight">op</span>(&#x27;onclick&#x27;,</div><div class="">      &#x27;if(this.checked) if(!confirm(</div><div class="">         &quot;{{=T(&#x27;Sure you want to delete this object?&#x27;)}}&quot;))</div><div class="">       this.checked=false;&#x27;);</div><div class=""> });</div><div class=""> ``:code</div></div></div>
    <div class="span6"><div class="diff"><div class=""> ##### Methods and attributes</div><div class="delete">-- ``jQuery(...).attr(name)``: Returns the name of the attribute value</div><div class="delete">-- ``jQuery(...).attr(name, value)``: Sets the attribute name to value</div><div class=""> - ``jQuery(...).html()``: Without arguments, it returns the inner html from the selected elements, it accepts a string as argument for replacing the tag content.</div><div class=""> - ``jQuery(...).text()``: Without arguments, it returns the inner text of the selected element (without tags), if a string is passed as argument, it replaces the inner text with the new data.</div><div class=""> - ``jQuery(...).css(name, value)``: With one parameter, it returns the CSS value of the style attribute specified for the selected elements. With two parameters, it sets a new value for the specified CSS attribute.</div><div class=""> - ``jQuery(...).each(function)``: It loops trought the selected elements set and calls function with each item as argument.</div><div class=""> - ``jQuery(...).index()``: Without arguments, it returns the index value for the first element selected related to its siblings. (i.e, the index of a LI element). If an element is passed as argument, it returns the element position related to the selected elements set.</div><div class=""> - ``jQuery(...).length``: This attribute returns the number of elements selected.</div><div class=""> </div><div class=""> jQuery is a very compact and concise Ajax library; therefore web2py does not need an additional abstraction layer on top of jQuery (except for the ``ajax`` function discussed below). The jQuery APIs are accessible and readily available in their native form when needed.</div><div class=""> </div><div class=""> Consult the documentation for more information about these effects and other jQuery APIs.</div><div class=""> </div><div class=""> The jQuery library can also be extended using plugins and User Interface Widgets. This topic is not covered here; see ref.``jquery-ui``:cite for details.</div><div class=""> </div><div class=""> #### Conditional fields in forms</div><div class=""> </div><div class=""> A typical application of jQuery effects is a form that changes its appearance based on the value of its fields.</div><div class=""> </div><div class=""> This is easy in web2py because the SQLFORM helper generates forms that are &quot;CSS friendly&quot;. The form contains a table with rows. Each row contains a label, an input field, and an optional third column. The items have ids derived strictly from the name of the table and names of the fields.</div><div class=""> </div><div class=""> The convention is that every INPUT field has an id ``tablename_fieldname`` and is contained in a row with id ``tablename_fieldname__row``.</div><div class=""> db.define_table(&#x27;taxpayer&#x27;,</div><div class="">     Field(&#x27;spouse_name&#x27;))</div><div class=""> ``:code</div><div class=""> </div><div class=""> the following &quot;default.py&quot; controller:</div><div class=""> ``</div><div class=""> def index():</div><div class="">     form = SQLFORM(db.taxpayer)</div><div class="">     if form.process().accepted:</div><div class="">         response.flash = &#x27;record inserted&#x27;</div><div class="">     return dict(form=form)</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the following &quot;default/index.html&quot; view:</div><div class=""> ``</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> {{=form}}</div><div class=""> &lt;script&gt;</div><div class=""> jQuery(document).ready(function(){</div><div class="">    jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).hide();</div><div class="">    jQuery(&#x27;#taxpayer_married&#x27;).change(function(){</div><div class="delete">        if(jQuery(&#x27;#taxpayer_married&#x27;).<span class="highlight">att</span>r<span class="highlight"></span>(&#x27;checked&#x27;))</div><div class="">             jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).show();</div><div class="">         else jQuery(&#x27;#taxpayer_spouse_name__row&#x27;).hide();});</div><div class=""> });</div><div class=""> &lt;/script&gt;</div><div class=""> ``:code</div><div class=""> </div><div class=""> The script in the view has the effect of hiding the row containing the spouse&#x27;s name:</div><div class=""> </div><div class=""> [[image @///image/en7500.png center 480px]]</div><div class=""> </div><div class=""> When the taxpayer checks the &quot;married&quot; checkbox, the spouse&#x27;s name field reappears:</div><div class=""> </div><div class=""> [[image @///image/en7600.png center 480px]]</div><div class=""> </div><div class=""> Here &quot;taxpayer_married&quot; is the checkbox associated to the &quot;boolean&quot; field &quot;married&quot; of table &quot;taxpayer&quot;. &quot;taxpayer_spouse_name__row&quot; is the row containing the input field for &quot;spouse_name&quot; of table &quot;taxpayer&quot;.</div><div class=""> </div><div class=""> #### Confirmation on delete</div><div class=""> ``confirmation``:inxx</div><div class=""> </div><div class=""> Another useful application is requiring confirmation when checking a &quot;delete&quot; checkbox such as the delete checkbox that appears in edit forms.</div><div class=""> Consider the above example and add the following controller action:</div><div class=""> def edit():</div><div class="">     row = db.taxpayer[request.args(0)]</div><div class="">     form = SQLFORM(db.taxpayer, row, deletable=True)</div><div class="">     if form.process().accepted:</div><div class="">         response.flash = &#x27;record updated&#x27;</div><div class="">     return dict(form=form)</div><div class=""> ``:code</div><div class=""> </div><div class=""> and the corresponding view &quot;default/edit.html&quot;</div><div class=""> ``</div><div class=""> {{extend &#x27;layout.html&#x27;}}</div><div class=""> {{=form}}</div><div class=""> ``:code</div><div class=""> </div><div class=""> ``deletable``:inxx</div><div class=""> The ``deletable=True`` argument in the SQLFORM constructor instructs web2py to display a &quot;delete&quot; checkbox in the edit form. It is ``False`` by default.</div><div class=""> </div><div class=""> web2py&#x27;s &quot;web2py.js&quot; includes the following code:</div><div class=""> ``</div><div class=""> jQuery(document).ready(function(){</div><div class="delete">   jQuery(&#x27;input.delete&#x27;).<span class="highlight">att</span>r<span class="highlight"></span>(&#x27;onclick&#x27;,</div><div class="">      &#x27;if(this.checked) if(!confirm(</div><div class="">         &quot;{{=T(&#x27;Sure you want to delete this object?&#x27;)}}&quot;))</div><div class="">       this.checked=false;&#x27;);</div><div class=""> });</div><div class=""> ``:code</div></div></div>
</div>
<hr />

<ul><li><a href="https://github.com/mdipierro/web2py-book/commit/49f38ab7ef56de1eb4ef48f68427ebf8a46b505d">49f38ab</a><ul><li>Date : 2012-12-26</li><li>more small edits</li></ul></li></ul>
<div class="row-fluid" id="com_49f38ab7ef56de1eb4ef48f68427ebf8a46b505d">
    <div class="span6"><div class="diff"><div class=""> ##### Form events</div><div class="insert">+- ``onchange``:   Script to be run when the element changes</div><div class="insert">+- ``onsubmit``:   Script to be run when the form is submitted</div><div class="insert">+- ``onreset``:    Script to be run when the form is reset</div><div class="insert">+- ``onselect``:   Script to be run when the element is selected</div><div class="insert">+- ``onblur``:     Script to be run when the element loses focus</div><div class="insert">+- ``onfocus``:    Script to be run when the element gets focus</div><div class=""> </div><div class=""> ##### Keyboard events</div><div class="insert">+- ``onkeydown``:  Script to be run when key is pressed</div><div class="insert">+- ``onkeypress``: Script to be run when key is pressed and released</div><div class="insert">+- ``onkeyup``:    Script to be run when key is released</div><div class=""> </div><div class=""> ##### Mouse events</div><div class="insert">+- ``onclick``:     Script to be run on a mouse click</div><div class="insert">+- ``ondblclick``:  Script to be run on a mouse double-click</div><div class="insert">+- ``onmousedown``: Script to be run when mouse button is pressed</div><div class="insert">+- ``onmousemove``: Script to be run when mouse pointer moves</div><div class="insert">+- ``onmouseout``:  Script to be run when mouse pointer moves out of an element</div><div class="insert">+- ``onmouseover``: Script to be run when mouse pointer moves over an element</div><div class="insert">+- ``onmouseup``:   Script to be run when mouse button is released</div><div class=""> </div><div class=""> Here is a list of useful effects defined by jQuery:</div><div class=""> </div><div class=""> ##### Effects</div><div class="insert">+- ``jQuery(...).attr(name)``: Returns the name of the attribute value</div><div class="insert">+- ``jQuery(...).attr(name, value)``: Sets the attribute name to value</div><div class="insert">+- ``jQuery(...).show()``: Makes the object visible</div><div class="insert">+- ``jQuery(...).hide()``: Makes the object hidden</div><div class="insert">+- ``jQuery(...).slideToggle(speed, callback)``: Makes the object slide up or down</div><div class="insert">+- ``jQuery(...).slideUp(speed, callback)``: Makes the object slide up</div><div class="insert">+- ``jQuery(...).slideDown(speed, callback)``: Makes the object slide down</div><div class="insert">+- ``jQuery(...).fadeIn(speed, callback)``: Makes the object fade in</div><div class="insert">+- ``jQuery(...).fadeOut(speed, callback)``: Makes the object fade out</div></div></div>
    <div class="span6"><div class="diff"><div class=""> ##### Form events</div><div class="delete">-- onchange:   Script to be run when the element changes</div><div class="delete">-- onsubmit:   Script to be run when the form is submitted</div><div class="delete">-- onreset:    Script to be run when the form is reset</div><div class="delete">-- onselect:   Script to be run when the element is selected</div><div class="delete">-- onblur:     Script to be run when the element loses focus</div><div class="delete">-- onfocus:    Script to be run when the element gets focus</div><div class=""> </div><div class=""> ##### Keyboard events</div><div class="delete">-- onkeydown:  Script to be run when key is pressed</div><div class="delete">-- onkeypress: Script to be run when key is pressed and released</div><div class="delete">-- onkeyup:    Script to be run when key is released</div><div class=""> </div><div class=""> ##### Mouse events</div><div class="delete">-- onclick:     Script to be run on a mouse click</div><div class="delete">-- ondblclick:  Script to be run on a mouse double-click</div><div class="delete">-- onmousedown: Script to be run when mouse button is pressed</div><div class="delete">-- onmousemove: Script to be run when mouse pointer moves</div><div class="delete">-- onmouseout:  Script to be run when mouse pointer moves out of an element</div><div class="delete">-- onmouseover: Script to be run when mouse pointer moves over an element</div><div class="delete">-- onmouseup:   Script to be run when mouse button is released</div><div class=""> </div><div class=""> Here is a list of useful effects defined by jQuery:</div><div class=""> </div><div class=""> ##### Effects</div><div class="delete">-- jQuery(...).attr(name): Returns the name of the attribute value</div><div class="delete">-- jQuery(...).attr(name, value): Sets the attribute name to value</div><div class="delete">-- jQuery(...).show(): Makes the object visible</div><div class="delete">-- jQuery(...).hide(): Makes the object hidden</div><div class="delete">-- jQuery(...).slideToggle(speed, callback): Makes the object slide up or down</div><div class="delete">-- jQuery(...).slideUp(speed, callback): Makes the object slide up</div><div class="delete">-- jQuery(...).slideDown(speed, callback): Makes the object slide down</div><div class="delete">-- jQuery(...).fadeIn(speed, callback): Makes the object fade in</div><div class="delete">-- jQuery(...).fadeOut(speed, callback): Makes the object fade out</div></div></div>
</div>
<hr />


        
      </div>

      <div id="push"></div>
    </div>

    <div id="footer">
      <div class="container-fluid">
          <div class="copyright pull-left">Copyright &#169; 2013</div>
          <div id="poweredBy" class="pull-right">
              Powered by
              <a href="http://www.web2py.com/">web2py</a>
          </div>
      </div>
    </div>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/web2py_bootstrap.js"></script>
</body>
</html>
